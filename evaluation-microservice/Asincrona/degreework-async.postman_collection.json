{
  "info": {
    "_postman_id": "a3b2d1e4-9f8c-4b0a-9f1b-123456789abc",
    "name": "Evaluation Microservice - Completa (Correcciones + Asignaci贸n)",
    "description": "Colecci贸n completa para probar el microservicio de evaluaci贸n: creaci贸n de evaluaciones con correcciones, env铆o de correcciones a la cola y endpoints de asignaci贸n de evaluadores.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": " Evaluaciones",
      "item": [
        {
          "name": "Crear Evaluaci贸n - Director (Aprobado, sin correcciones)",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"documentId\": 2,\n  \"evaluadorCorreo\": \"carlos.garcia@unicauca.edu.co\",\n  \"resultado\": \"APROBADO\",\n  \"tipo\": \"ANTEPROYECTO\",\n  \"correcciones\": \"Ninguna observaci贸n. Excelente estructura y redacci贸n del anteproyecto.\"\n}"
            },
            "url": {
              "raw": "http://localhost:8083/api/evaluations",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "evaluations"]
            },
            "description": "Crea una evaluaci贸n aprobada por el director Dr. Carlos Garc铆a (sin correcciones relevantes)."
          }
        },
        {
          "name": "Crear Evaluaci贸n - Codirector 1 (Con correcciones)",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"documentId\": 2,\n  \"evaluadorCorreo\": \"laura.torres@unicauca.edu.co\",\n  \"resultado\": \"APROBADO_CON_CORRECCIONES\",\n  \"tipo\": \"ANTEPROYECTO\",\n  \"correcciones\": \"Revisar la coherencia entre los objetivos espec铆ficos y la metodolog铆a. Corregir referencias bibliogr谩ficas seg煤n norma APA 7.\"\n}"
            },
            "url": {
              "raw": "http://localhost:8083/api/evaluations",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "evaluations"]
            },
            "description": "Crea una evaluaci贸n con correcciones por la codirectora MSc. Laura Torres."
          }
        },
        {
          "name": "Crear Evaluaci贸n - Codirector 2 (No aprobado con correcciones)",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"documentId\": 1,\n  \"evaluadorCorreo\": \"mateo.rojas@unicauca.edu.co\",\n  \"resultado\": \"NO_APROBADO\",\n  \"tipo\": \"FORMATO_A\",\n  \"correcciones\": \"El planteamiento del problema no est谩 claramente definido. Reescribir el marco te贸rico y mejorar el dise帽o experimental.\"\n}"
            },
            "url": {
              "raw": "http://localhost:8083/api/evaluations",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "evaluations"]
            },
            "description": "Evaluaci贸n no aprobada con correcciones por Ing. Mateo Rojas."
          }
        },
        {
          "name": "Listar Todas las Evaluaciones",
          "request": {
            "method": "GET",
            "url": {
              "raw": "http://localhost:8083/api/evaluations",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "evaluations"]
            },
            "description": "Obtiene todas las evaluaciones registradas."
          }
        },
        {
          "name": "Obtener Evaluaciones por Correo - Director",
          "request": {
            "method": "GET",
            "url": {
              "raw": "http://localhost:8083/api/evaluations/evaluador/carlos.garcia@unicauca.edu.co",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "evaluations", "evaluador", "carlos.garcia@unicauca.edu.co"]
            },
            "description": "Filtra las evaluaciones por correo del evaluador (Dr. Carlos Garc铆a)."
          }
        },
        {
          "name": "Eliminar Evaluaci贸n por ID",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "http://localhost:8083/api/evaluations/1",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "evaluations", "1"]
            },
            "description": "Elimina una evaluaci贸n por su ID interno."
          }
        }
      ]
    },
    {
      "name": " Trabajos de Grado (DegreeWorks)",
      "item": [
        {
          "name": "Listar Todos los Trabajos de Grado",
          "request": {
            "method": "GET",
            "url": {
              "raw": "http://localhost:8083/api/degreeworks",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "degreeworks"]
            },
            "description": "Obtiene todos los trabajos de grado registrados en el sistema."
          }
        },
        {
          "name": "Listar Solo Anteproyectos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "http://localhost:8083/api/degreeworks/anteproyectos",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "degreeworks", "anteproyectos"]
            },
            "description": "Obtiene 煤nicamente los trabajos de grado en estado ANTEPROYECTO."
          }
        },
        {
          "name": "Obtener Trabajo de Grado por Correo del Estudiante - Dana",
          "request": {
            "method": "GET",
            "url": {
              "raw": "http://localhost:8083/api/degreeworks/correo/dana.romero@unicauca.edu.co",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "degreeworks", "correo", "dana.romero@unicauca.edu.co"]
            },
            "description": "Obtiene el trabajo de grado asociado al estudiante Dana Romero."
          }
        },
        {
          "name": "Obtener Trabajo de Grado por Correo del Estudiante - Juan",
          "request": {
            "method": "GET",
            "url": {
              "raw": "http://localhost:8083/api/degreeworks/correo/juan.perez@unicauca.edu.co",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "degreeworks", "correo", "juan.perez@unicauca.edu.co"]
            },
            "description": "Obtiene el trabajo de grado asociado al estudiante Juan P茅rez."
          }
        },
        {
          "name": "Asignar Evaluadores a un Trabajo de Grado (por correos) - Variante 1",
          "request": {
            "method": "POST",
            "url": {
              "raw": "http://localhost:8083/api/degreeworks/1/asignar-evaluadores?correoEvaluador1=laura.torres@unicauca.edu.co&correoEvaluador2=mateo.rojas@unicauca.edu.co",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "degreeworks", "1", "asignar-evaluadores"],
              "query": [
                { "key": "correoEvaluador1", "value": "laura.torres@unicauca.edu.co" },
                { "key": "correoEvaluador2", "value": "mateo.rojas@unicauca.edu.co" }
              ]
            },
            "description": "Asigna evaluadores al trabajo de grado ID=1 usando los correos proporcionados (codirectores)."
          }
        },
        {
          "name": "Asignar Evaluadores a un Trabajo de Grado (por correos) - Variante 2 (director + codirector)",
          "request": {
            "method": "POST",
            "url": {
              "raw": "http://localhost:8083/api/degreeworks/1/asignar-evaluadores?correoEvaluador1=carlos.garcia@unicauca.edu.co&correoEvaluador2=laura.torres@unicauca.edu.co",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "degreeworks", "1", "asignar-evaluadores"],
              "query": [
                { "key": "correoEvaluador1", "value": "carlos.garcia@unicauca.edu.co" },
                { "key": "correoEvaluador2", "value": "laura.torres@unicauca.edu.co" }
              ]
            },
            "description": "Asigna evaluadores al trabajo de grado ID=1 incluyendo al director como evaluador1."
          }
        },
        {
          "name": "Enviar Correcciones Manualmente (DTO directo a la cola)",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"degreeWorkId\": 1,\n  \"estado\": \"ANTEPROYECTO\",\n  \"correcciones\": \"Corregir la redacci贸n de los objetivos espec铆ficos y actualizar la secci贸n de antecedentes.\"\n}"
            },
            "url": {
              "raw": "http://localhost:8083/api/evaluations/correcciones",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8083",
              "path": ["api", "evaluations", "correcciones"]
            },
            "description": "Env铆a manualmente un DegreeWorkUpdateDTO hacia DegreeWork v铆a RabbitMQ (endpoint directo en este microservicio)."
          }
        }
      ]
    }
  ]
}
